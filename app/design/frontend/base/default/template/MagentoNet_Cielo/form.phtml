<?php
/**
 * Magento
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Academic Free License (AFL 3.0)
 * that is bundled with this package in the file LICENSE_AFL.txt.
 * It is also available through the world-wide-web at this URL:
 * http://opensource.org/licenses/afl-3.0.php
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to license@magentocommerce.com so we can send you a copy immediately.
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade Magento to newer
 * versions in the future. If you wish to customize Magento for your
 * needs please refer to http://www.magentocommerce.com for more information.
 *
 * @category   design_default
 * @package    Mage
 * @copyright  Copyright (c) 2008 Irubin Consulting Inc. DBA Varien (http://www.varien.com)
 * @license    http://opensource.org/licenses/afl-3.0.php  Academic Free License (AFL 3.0)
 */
?>
<fieldset class="form-list">
    <ul id="payment_form_cielo" style="display:none;">
<li class="first">
        <!-- label for="cielo_cc_type" class="hidden"><em>*</em>Tipo de Cartão de Crédito</label --><br>
		<ul class="card-logo">
                	<li style="width: 110px; float: left;">
				<label for="card-VI"><img style="width: 50px;" src="/skin/frontend/default/default/images/multicielo/Visa.png"><br>
				<input name="payment[cc_type_cielo]" type="radio" value="0" id="Multimodulos_Multicielo_cc_type" class="validate-one-required-by-name">
				</label></li>
                	<li style="width: 110px; float: left;">
				<label for="card-MC"><img style="width: 50px;" src="/skin/frontend/default/default/images/multicielo/Master.png"><br>
				<input name="payment[cc_type_cielo]" type="radio" value="1" id="Multimodulos_Multicielo_cc_type" class="validate-one-required-by-name">
		         	</label></li>
                                <li style="width: 110px; float: left;">
				<label for="card-DN"><img style="width: 50px;" src="/skin/frontend/default/default/images/multicielo/Amex.png"><br>
				<input name="payment[cc_type_cielo]" type="radio" value="2" id="Multimodulos_Multicielo_cc_type" class="validate-one-required-by-name">
		         	</label></li>
                                <li style="width: 110px; float: left;">
				<label for="card-MC"><img style="width: 50px;" src="/skin/frontend/default/default/images/multicielo/Elo.png"><br>
				<input name="payment[cc_type_cielo]" type="radio" value="3" id="Multimodulos_Multicielo_cc_type" class="validate-one-required-by-name">
		         	</label></li>
                                <li style="width: 110px; float: left;">
				<label for="card-MC"><img style="width: 50px;" src="/skin/frontend/default/default/images/multicielo/Diners.png"><br>
				<input name="payment[cc_type_cielo]" type="radio" value="4" id="Multimodulos_Multicielo_cc_type" class="validate-one-required-by-name">
		         	</label></li>
                                <li style="width: 110px; float: left;">
				<label for="card-MC"><img style="width: 50px;" src="/skin/frontend/default/default/images/multicielo/Discover.png"><br>
				<input name="payment[cc_type_cielo]" type="radio" value="5" id="Multimodulos_Multicielo_cc_type" class="validate-one-required-by-name">
		         	</label></li>
                                <li style="width: 110px; float: left;">
				<label for="card-MC"><img style="width: 50px;" src="/skin/frontend/default/default/images/multicielo/Visa-Electron.png"><br>
				<input name="payment[cc_type_cielo]" type="radio" value="6" id="Multimodulos_Multicielo_cc_type" class="validate-one-required-by-name">
		         	</label></li>
                               
                </ul>
    </li>
        <li>
            <div class="input-box">
                <label for="Multimodulos_Multicielo_cc_owner"><?php echo $this->__('Name on Card') ?> <span class="required">*</span></label><br/>
                <input type="text" title="<?php echo $this->__('Name on Card') ?>" class="required-entry input-text" id="Multimodulos_Multicielo_cc_owner" name="payment[cc_owner_cielo]" value="<?php echo $this->htmlEscape($this->getInfoData('cc_owner')) ?>"/>
            </div>
        </li>
        <li>
            <div class="input-box">

                <label for="Multimodulos_Multicielo_cc_number"><?php echo $this->__('Número do Cartão') ?> <span class="required">*</span></label><br/>
                <input type="text" id="Multimodulos_Multicielo_cc_number" name="payment[cc_number_cielo]" title="<?php echo $this->__('Laser Card Number') ?>" class="required-entry input-text" value=""/>
            </div>
        </li>
        <li>
            <div class="input-box">
                <label for="Multimodulos_Multicielo_expiration"><?php echo $this->__('Expiration Date') ?> <span class="required">*</span></label><br/>
                <div class="v-fix">
                <select id="Multimodulos_Multicielo_expiration" style="width:140px;" name="payment[cc_exp_month_cielo]" class="required-entry">
                <?php $_ccExpMonth = $this->getInfoData('cc_exp_month') ?>
                <?php foreach ($this->getCcMonths() as $k=>$v): ?>
                    <option value="<?php echo $k?$k:'' ?>"<?php if($k==$_ccExpMonth): ?> selected="selected"<?php endif ?>><?php echo $v ?></option>
                <?php endforeach ?>
                </select>
                </div>
                
                <div class="v-fix" style="padding-left:5px;">
                <?php $_ccExpYear = $this->getInfoData('cc_exp_year') ?>
                <select id="Multimodulos_Multicielo_expiration_yr" style="width:103px;" name="payment[cc_exp_year_cielo]" class="required-entry">
                <?php foreach ($this->getCcYears() as $k=>$v): ?>
                    <option value="<?php echo $k?$k:'' ?>"<?php if($k==$_ccExpYear): ?> selected="selected"<?php endif ?>><?php echo $v ?></option>
                <?php endforeach ?>
                </select>
                </div>
            </div>
        </li>
        
        <li>
            <div class="input-box">
                <label for="Multimodulos_Multicielo_cc_cid"><?php echo $this->__('Card Verification Number') ?> <span class="required">*</span></label><br/>
                <div class="v-fix"><input type="text" title="<?php echo $this->__('Card Verification Number') ?>" class="required-entry input-text" id="Multimodulos_Multicielo_cc_cid" name="payment[cc_cid_cielo]" style="width:3em;" value=""/></div>
                &nbsp;
                <a href="#" class="cvv-what-is-this"><?php echo $this->__('What is this?') ?></a>
            </div>
        </li>
         <li>
        <label for="Multimodulos_Multicielo_parcelas"><?php echo $this->__('Parcelas') ?> </label><br />
        <div class="input-box">
            <select id="Multimodulos_Multicielo_parcelas" name="payment[cc_parcelas_cielo]">
							<?php foreach($this->getParcelas() as $parcela): ?>
								<option value="<?php echo $parcela['parcela'] ?>"><?php echo $parcela['label'] ?></option>
							<?php endforeach ?>
						</select><?php //var_dump($this->getParcelas()); ?>
        </div>
    </li>
    </ul>
</fieldset>

<script>
    jQuery(function($){
        $("#Multimodulos_Multicielo_cc_number").mask("9999-9999-9999-9999");
        
        $("#Multimodulos_Multicielo_cc_type").live("click", function(){
            jQuery("#Multimodulos_Multicielo_cc_cid").unmask();
            jQuery("#Multimodulos_Multicielo_cc_number").unmask();
            if(jQuery(this).attr("value") == '2') {
                jQuery("#Multimodulos_Multicielo_cc_cid").mask("9999");
                jQuery("#Multimodulos_Multicielo_cc_number").mask("999999999999999");
            } else if(jQuery(this).attr("value") == '4') {
                jQuery("#Multimodulos_Multicielo_cc_cid").mask("999");
                jQuery("#Multimodulos_Multicielo_cc_number").mask("99999999999999");
            } else {
                jQuery("#Multimodulos_Multicielo_cc_cid").mask("999");
                 $("#Multimodulos_Multicielo_cc_number").mask("9999-9999-9999-9999");
            }
        });

});
</script>
